# Vestaboard Configuration
# Get your API key from the Vestaboard mobile app: Settings → Local API
VESTABOARD_LOCAL_API_KEY=your-api-key-here
VESTABOARD_LOCAL_API_URL=http://192.168.1.100:7000
# Board model: 'black' (default) or 'white' - affects how colors display
# White boards show blank tiles as white, need code 69 for black backgrounds
# VESTABOARD_MODEL=black

# AI Provider Configuration
# Choose your AI provider: openai or anthropic
AI_PROVIDER=openai

# OpenAI Configuration (if using OpenAI provider)
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here
# Optional: Override default model (default: gpt-4.1)
# OPENAI_MODEL=gpt-4.1

# Anthropic Configuration (if using Anthropic provider)
# Get your API key from: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here
# Optional: Override default model (default: claude-sonnet-4-5-20250929)
# ANTHROPIC_MODEL=claude-sonnet-4-5-20250929

# Troubleshooting:
# - If you see "API key is required" errors, ensure your selected provider's API key is set
# - Test connectivity with: npm run test:ai
# - For OpenAI rate limits, wait 1 minute or upgrade your account tier
# - For Anthropic authentication errors, verify your API key is valid and has usage credits

# Application Configuration
NODE_ENV=development

# Database Configuration
# Choose database type: sqlite (development/test) or mysql (production)
DATABASE_TYPE=sqlite

# MySQL Configuration (used when DATABASE_TYPE=mysql in production)
# Knex will use these variables to construct the connection
# DATABASE_HOST=localhost
# DATABASE_PORT=3306
# DATABASE_USER=root
# DATABASE_PASSWORD=your-secure-password
# DATABASE_NAME=clack_track

# Legacy MySQL connection URL (deprecated - use DATABASE_* variables above)
# Format: mysql://username:password@host:port/database
# DATABASE_URL=mysql://root:devpassword@mysql:3306/clack_track

# Web Server Configuration
# Enable/disable the web server interface (default: true)
# Set to 'false' to run in headless mode (CLI commands only)
# Useful for: testing environments, CLI-only usage, Docker containers without web UI
WEB_SERVER_ENABLED=true

# Web Server Port (default: 3000)
# Port the backend web server listens on
# WEB_SERVER_PORT=3000

# Rate Limiting Configuration (optional)
# Applied to all /api/* routes
# RATE_LIMIT_WINDOW_MS=900000     # Time window in milliseconds (default: 15 minutes)
# RATE_LIMIT_MAX_REQUESTS=100     # Maximum requests per window (default: 100)

# Update Schedule (in minutes)
# How often to generate and push new AI content
UPDATE_INTERVAL=60

# Logging
LOG_LEVEL=info

# Content Generation Settings
# Maximum characters for generated content (Vestaboard has 6 rows x 22 chars)
MAX_CONTENT_LENGTH=132

# Content Type
# Options: quote, weather, news, custom
DEFAULT_CONTENT_TYPE=quote

# Home Assistant Integration
# Connect to Home Assistant for event-driven content updates
# Get your Long-Lived Access Token from: HA → Profile → Long-Lived Access Tokens → Create Token
HOME_ASSISTANT_URL=http://homeassistant.local:8123
HOME_ASSISTANT_TOKEN=your-long-lived-access-token-here

# Home Assistant WebSocket Reconnection Settings (Optional)
# Reconnection delay in milliseconds (default: 5000)
# HOME_ASSISTANT_RECONNECT_DELAY=5000
# Maximum reconnection attempts before giving up (default: 10, set to 0 for unlimited)
# HOME_ASSISTANT_MAX_RECONNECT_ATTEMPTS=10

# Weather entity for frame info bar (default: weather.apple)
# Common options: weather.apple, weather.openweathermap, weather.my_ecobee
WEATHER_ENTITY=weather.apple

# Home Assistant Trigger Configuration (Optional)
# Path to YAML file defining entity triggers for automated content updates
# See config/triggers.example.yaml for configuration examples
# TRIGGER_CONFIG_PATH=./config/triggers.yaml

# Home Assistant Security Notes:
# - For production deployments, use HTTPS (https://) for HOME_ASSISTANT_URL
# - WebSocket connections will automatically use wss:// (secure) when connecting to HTTPS URLs
# - Using wss:// encrypts WebSocket traffic over TLS, preventing man-in-the-middle attacks
# - Requires a valid TLS/SSL certificate on your Home Assistant server
# - For local development without HTTPS, ws:// may be used but is not recommended

# RSS Feed Configuration (optional - defaults provided)
# Customize RSS feeds for different news categories
# Multiple feeds can be specified as comma-separated URLs
RSS_GLOBAL_FEEDS=https://feeds.bbci.co.uk/news/world/rss.xml,https://rss.nytimes.com/services/xml/rss/nyt/HomePage.xml
RSS_TECH_FEEDS=https://hnrss.org/frontpage,https://techcrunch.com/feed/,https://feeds.arstechnica.com/arstechnica/index
RSS_LOCAL_FEEDS=https://www.latimes.com/local/rss2.0.xml,https://ktla.com/feed/

# Timezone Configuration
# Set the timezone for display formatting (POSIX TZ format)
# Default: America/Los_Angeles (Pacific Time)
# Examples:
#   TZ=America/New_York      # Eastern Time
#   TZ=America/Chicago       # Central Time
#   TZ=America/Denver        # Mountain Time
#   TZ=UTC                   # Coordinated Universal Time
#   TZ=Europe/London         # British Time
#   TZ=Asia/Tokyo            # Japan Standard Time
# See: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
TZ=America/Los_Angeles

# Push Notifications (PWA)
# Generate VAPID keys with: npx web-push generate-vapid-keys
# Public key is shared with the frontend for push subscription
# Private key stays server-side for sending notifications
VAPID_PUBLIC_KEY=your-vapid-public-key-here
VAPID_PRIVATE_KEY=your-vapid-private-key-here
VAPID_SUBJECT=mailto:your-email@example.com

# Security Notes:
# - NEVER commit your actual token to version control
# - Store tokens in environment variables or secure secret managers
# - Rotate tokens periodically for security
# - Use read-only scopes when possible
