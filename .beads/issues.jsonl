{"id":"workspace-14p","content_hash":"e1340631a13bf2e72c3dde67d35ba7372a347fa1d519f152780f0cc78c80b9e1","title":"Create Shared AI Provider Mocks","description":"Build reusable mock factory for AI provider testing","design":"Create tests/__mocks__/ai-providers.ts:\n- Implement createMockOpenAIClient() factory\n- Implement createMockAnthropicClient() factory\n- Add configurable success/failure behaviors\n- Export mock response builders","acceptance_criteria":"- Factories return AIProvider interface implementations\n- Configurable responses for different test scenarios\n- Easy to use in unit and integration tests","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-23T02:02:42.534775509Z","updated_at":"2025-11-23T02:02:42.534775509Z","source_repo":".","labels":["priority-2","testing"],"dependencies":[{"issue_id":"workspace-14p","depends_on_id":"workspace-7iv","type":"blocks","created_at":"2025-11-23T04:14:45.988840844Z","created_by":"import"},{"issue_id":"workspace-14p","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:45.98971651Z","created_by":"import"}]}
{"id":"workspace-2i7","content_hash":"6e9512105cb1e52a018df753867fbdbd9ca81cffcc13ee041f842fdff1805e88","title":"Write CLI Integration Tests","description":"End-to-end CLI command testing","design":"Create tests/e2e/cli/test-ai.test.ts:\n- Test full test-ai command execution\n- Test output parsing and formatting\n- Test error scenarios (missing env vars, etc.)\n- Test interactive mode\n- Verify exit codes","acceptance_criteria":"- Command executes from end to end\n- All output verified\n- Error paths tested\n- Runs within e2e timeout (60s)","status":"open","priority":4,"issue_type":"task","created_at":"2025-11-23T02:03:27.405343127Z","updated_at":"2025-11-23T02:03:27.405343127Z","source_repo":".","labels":["cli","integration","priority-4","testing"],"dependencies":[{"issue_id":"workspace-2i7","depends_on_id":"workspace-14p","type":"blocks","created_at":"2025-11-23T04:14:45.990266177Z","created_by":"import"},{"issue_id":"workspace-2i7","depends_on_id":"workspace-7aj","type":"blocks","created_at":"2025-11-23T04:14:45.99073251Z","created_by":"import"},{"issue_id":"workspace-2i7","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:45.991160469Z","created_by":"import"}]}
{"id":"workspace-2l1","content_hash":"c2ac7f67c4058f556ce7ed3578f44b2bb228cbecbff32d0c07271894ffe20f0e","title":"Write AI Provider Factory Tests","description":"Test the createAIProvider factory function","design":"Create tests/unit/api/ai/factory.test.ts:\n- Test OpenAI provider creation\n- Test Anthropic provider creation\n- Test invalid provider type handling\n- Test with valid and invalid API keys","acceptance_criteria":"- Factory correctly instantiates both providers\n- Throws appropriate errors for invalid types\n- All branches tested with 80%+ coverage","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-23T02:02:48.096780595Z","updated_at":"2025-11-23T02:02:48.096780595Z","source_repo":".","labels":["priority-2","testing"],"dependencies":[{"issue_id":"workspace-2l1","depends_on_id":"workspace-8sa","type":"blocks","created_at":"2025-11-23T04:14:45.991633427Z","created_by":"import"},{"issue_id":"workspace-2l1","depends_on_id":"workspace-d3r","type":"blocks","created_at":"2025-11-23T04:14:45.992059135Z","created_by":"import"},{"issue_id":"workspace-2l1","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:45.993111802Z","created_by":"import"}]}
{"id":"workspace-6an","content_hash":"cacaca81fbfc765d30ac28edc234e3d7df0db378ec4ef9a1c33aa7d84c822cf9","title":"Create Anthropic Test Fixtures","description":"Create mock responses for Anthropic API testing","design":"Create tests/fixtures/anthropic-responses.json with:\n- Successful message response\n- Error responses (rate limit, auth, invalid)\n- Model validation response\n- Document fixture structure","acceptance_criteria":"- All common response scenarios covered\n- Valid JSON structure matching Anthropic API spec\n- Includes realistic token counts","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-23T02:02:31.439175296Z","updated_at":"2025-11-23T02:02:31.439175296Z","source_repo":".","labels":["anthropic","priority-2","testing"],"dependencies":[{"issue_id":"workspace-6an","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:45.993818427Z","created_by":"import"}]}
{"id":"workspace-6me","content_hash":"824c851779b3442b9d2eb0efd69b6abaa666ea2abc87bb127d63cbe5f4b15f87","title":"Create AI Provider Usage Guide","description":"Developer documentation for using AI providers","design":"Create docs/ai-providers.md:\n- Document AIProvider interface\n- Show examples of using each provider\n- Document error handling patterns\n- Add testing best practices\n- Link from main README","acceptance_criteria":"- Complete API documentation\n- Working code examples\n- Linked from README","status":"open","priority":4,"issue_type":"chore","created_at":"2025-11-23T02:03:54.452301292Z","updated_at":"2025-11-23T02:03:54.452301292Z","source_repo":".","labels":["documentation"],"dependencies":[{"issue_id":"workspace-6me","depends_on_id":"workspace-8sa","type":"blocks","created_at":"2025-11-23T04:14:45.994315344Z","created_by":"import"},{"issue_id":"workspace-6me","depends_on_id":"workspace-d3r","type":"blocks","created_at":"2025-11-23T04:14:45.995206094Z","created_by":"import"},{"issue_id":"workspace-6me","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:45.995792302Z","created_by":"import"}]}
{"id":"workspace-7aj","content_hash":"784700526d24c828098299edb712a3620d67b85de9f2bbc98d584e3d125d5bd0","title":"Implement test-ai CLI Command with Interactive Mode","description":"Create CLI command to test AI provider connectivity with full feature set including interactive mode","design":"Create src/cli/commands/test-ai.ts with:\n- Accept provider flag (--provider openai|anthropic|all)\n- Basic connectivity validation\n- Test generation with sample prompt\n- Performance metrics (tokens, model, timing)\n- Interactive mode (--interactive) for custom prompts\n- Colored output for status\n- Detailed error messages","acceptance_criteria":"- Command tests connectivity for specified provider(s)\n- Shows performance metrics\n- Interactive mode allows custom prompts\n- Clear success/failure messages\n- Helpful error messages for configuration issues","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-23T02:02:59.235275128Z","updated_at":"2025-11-23T02:02:59.235275128Z","source_repo":".","labels":["cli","priority-3"],"dependencies":[{"issue_id":"workspace-7aj","depends_on_id":"workspace-8sa","type":"blocks","created_at":"2025-11-23T04:14:45.996271635Z","created_by":"import"},{"issue_id":"workspace-7aj","depends_on_id":"workspace-d3r","type":"blocks","created_at":"2025-11-23T04:14:45.996721594Z","created_by":"import"},{"issue_id":"workspace-7aj","depends_on_id":"workspace-iat","type":"blocks","created_at":"2025-11-23T04:14:45.997145677Z","created_by":"import"},{"issue_id":"workspace-7aj","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:45.997562052Z","created_by":"import"}]}
{"id":"workspace-7iv","content_hash":"0711088d068d663dd209435a6cae514964eb4f1ac410ffd4a4aea7c8bf507b7a","title":"Create AI Provider Error Types","description":"Define custom error classes for AI provider failures","design":"Create src/types/errors.ts with:\n- AIProviderError base class\n- RateLimitError class\n- InvalidRequestError class\n- AuthenticationError class\n\nExport from src/types/index.ts","acceptance_criteria":"- All error types extend Error properly\n- Error types include provider name and original error\n- Types exported and available for import","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-23T02:02:03.62915788Z","updated_at":"2025-11-23T03:58:33.260746879Z","source_repo":".","labels":["foundation","priority-1"],"dependencies":[{"issue_id":"workspace-7iv","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:45.998046219Z","created_by":"import"}]}
{"id":"workspace-8sa","content_hash":"81cdc8e6d7ed38757e4cd6c65e8546089b7cc2a2e170eca81bb26e9e584efa20","title":"Implement Anthropic Client","description":"Complete Anthropic API wrapper with full functionality","design":"Implement in src/api/ai/anthropic.ts:\n- Initialize Anthropic SDK client in constructor\n- Implement generate() using Messages API\n- Implement validateConnection() using simple API call\n- Add error handling with custom error types\n- Add token usage tracking\n- Handle rate limits and retries\n- Add request timeout configuration","acceptance_criteria":"- generate() returns AIGenerationResponse with text and metadata\n- validateConnection() returns true for valid keys, false for invalid\n- All errors properly typed and thrown\n- Token usage included in response\n- Handles network failures gracefully","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-23T02:02:25.911645085Z","updated_at":"2025-11-23T02:02:25.911645085Z","source_repo":".","labels":["anthropic","priority-2"],"dependencies":[{"issue_id":"workspace-8sa","depends_on_id":"workspace-7iv","type":"blocks","created_at":"2025-11-23T04:14:45.998499344Z","created_by":"import"},{"issue_id":"workspace-8sa","depends_on_id":"workspace-eji","type":"blocks","created_at":"2025-11-23T04:14:45.998914219Z","created_by":"import"},{"issue_id":"workspace-8sa","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:45.999308135Z","created_by":"import"}]}
{"id":"workspace-9gm","content_hash":"03a02ccce5eb2cbfcee14294f2374497ae8fbc022cfeefe4afa81796ba86b66a","title":"Cannot access Vite dev server on localhost:3000 from host when running in devcontainer","description":"When running `npm run dev:client` inside the devcontainer, the Vite dev server starts successfully and shows it's listening on port 3000, but the developer cannot access http://localhost:3000 from their browser on the host machine. The connection is refused or times out.\n\n**Environment:**\n- Running in VS Code devcontainer\n- Vite dev server configured in vite.config.ts\n- Server starts without errors inside container\n- Browser on host machine cannot connect\n\n**Expected Behavior:**\nDeveloper should be able to access the Vite dev server at http://localhost:3000 from their browser on the host machine.\n\n**Actual Behavior:**\n- Browser shows \"This site can't be reached\" or connection refused\n- curl localhost:3000 from host fails\n- Server is running and accessible inside container (curl localhost:3000 works in container terminal)\n\n**Impact:**\nDevelopers cannot test the frontend application during development.","design":"**Root Cause Analysis:**\nThe issue is likely one or more of the following:\n1. Vite server binding to 127.0.0.1 (localhost only) instead of 0.0.0.0 (all interfaces)\n2. Missing port forwarding configuration in .devcontainer/devcontainer.json\n3. Vite strictPort option may cause silent failures\n\n**Solution Design:**\n1. Update vite.config.ts to bind server to 0.0.0.0:\n   ```typescript\n   server: {\n     host: '0.0.0.0', // Listen on all interfaces for devcontainer access\n     port: 3000,\n     strictPort: true\n   }\n   ```\n\n2. Add port forwarding to .devcontainer/devcontainer.json:\n   ```json\n   \"forwardPorts\": [3000, 4000],\n   \"portsAttributes\": {\n     \"3000\": {\n       \"label\": \"Vite Dev Server\",\n       \"onAutoForward\": \"notify\"\n     },\n     \"4000\": {\n       \"label\": \"Express Backend\",\n       \"onAutoForward\": \"notify\"\n     }\n   }\n   ```\n\n3. Ensure Vite HMR (Hot Module Replacement) websocket also accessible:\n   ```typescript\n   server: {\n     host: '0.0.0.0',\n     port: 3000,\n     hmr: {\n       clientPort: 3000 // Ensure HMR websocket uses forwarded port\n     }\n   }\n   ```","acceptance_criteria":"- [ ] Vite dev server binds to 0.0.0.0 instead of 127.0.0.1\n- [ ] .devcontainer/devcontainer.json includes forwardPorts configuration\n- [ ] Developer can access http://localhost:3000 from host browser when server running in container\n- [ ] HMR (hot reload) works correctly from host browser\n- [ ] Express backend port (4000) also properly forwarded\n- [ ] Port forwarding status visible in VS Code Ports panel\n- [ ] Documentation updated with devcontainer networking notes","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-23T03:17:39.609947507Z","updated_at":"2025-11-23T03:23:24.896899167Z","closed_at":"2025-11-23T03:23:24.896899167Z","source_repo":"."}
{"id":"workspace-ach","content_hash":"a231a6894aa1d23e3f181e2e21e4c0eaf91291a46f2f8c364274667ab5d28998","title":"Setup web server with React placeholder page","description":"Implement a basic Express web server that serves a React-based placeholder page for the Clack Track debugging interface. The server should integrate with the existing project architecture and provide a foundation for future debugging UI features (content viewing, voting, logs).","design":"**Architecture:**\n- Express server in `src/web/server.ts` (already stubbed in architecture)\n- Static file serving for React build output\n- Development mode with hot reload support\n- Production mode serving optimized React build\n\n**Technology Stack:**\n- Express.js for HTTP server\n- React 18 with TypeScript for frontend\n- Vite for React build tooling (fast, modern, ES modules compatible)\n- Integration with existing TypeScript ES modules setup (Node16 module resolution)\n\n**Directory Structure:**\n```\nsrc/web/\n  ├── server.ts           # Express server implementation\n  ├── routes/             # API endpoints (future)\n  └── frontend/           # React application\n      ├── src/\n      │   ├── App.tsx     # Main React component\n      │   ├── main.tsx    # React entry point\n      │   └── vite-env.d.ts\n      ├── index.html      # Vite HTML template\n      ├── package.json    # Frontend dependencies\n      ├── vite.config.ts  # Vite configuration\n      └── tsconfig.json   # Frontend TypeScript config\n```\n\n**Integration Points:**\n- Server runs on configurable port (env: `WEB_SERVER_PORT`, default: 3000)\n- Graceful shutdown handling\n- CORS configuration for development\n- Static asset serving from `src/web/frontend/dist` in production","acceptance_criteria":"- [ ] Express server starts successfully on configured port\n- [ ] React app displays placeholder page with \"Clack Track\" branding\n- [ ] Development mode: `npm run dev:web` starts both server and Vite dev server with hot reload\n- [ ] Production mode: `npm run build:web` creates optimized React build\n- [ ] Production mode: Server serves static React build from dist folder\n- [ ] Server integrates with existing environment configuration system\n- [ ] Graceful shutdown on SIGTERM/SIGINT signals\n- [ ] 80%+ test coverage for server code (web UI tests optional for placeholder)\n- [ ] TypeScript compilation succeeds with no errors\n- [ ] Linting passes for both server and React code\n- [ ] README updated with web server commands and development instructions","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T01:05:44.259381969Z","updated_at":"2025-11-23T01:43:45.578479261Z","closed_at":"2025-11-23T01:43:45.578479261Z","source_repo":"."}
{"id":"workspace-api","content_hash":"34328fc7806a8f13a353209e4d59099b249f22d4f5bc8b25f9b7f33ebadc8bf6","title":"Implement API routes with TDD","description":"Implement Express API routes for content, voting, and logs endpoints using Test-Driven Development with integration tests.","design":"**Routes to implement:**\n- GET /api/content/latest - Fetch latest Vestaboard content\n- GET /api/content/history - Fetch content history\n- POST /api/vote - Submit quality vote (good/bad)\n- GET /api/logs - Fetch debug logs\n\n**TDD Approach:**\n1. RED: Write failing integration tests for each endpoint\n2. GREEN: Implement route handlers to pass tests\n3. BLUE: Refactor for error handling and validation","acceptance_criteria":"- [ ] All 4 API endpoints implemented in src/web/routes/\n- [ ] Routes registered in WebServer.start()\n- [ ] Integration tests for all endpoints with 80%+ coverage\n- [ ] Proper error handling and HTTP status codes\n- [ ] Request/response validation\n- [ ] TypeScript compiles with no errors\n- [ ] Linting passes","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-23T01:41:01.276671004Z","updated_at":"2025-11-23T01:41:01.276671004Z","source_repo":".","dependencies":[{"issue_id":"workspace-api","depends_on_id":"workspace-express","type":"blocks","created_at":"2025-11-23T04:14:45.999783135Z","created_by":"import"}]}
{"id":"workspace-awe","content_hash":"cf31557a4fd489f09ddf5e1206bdb39dd4d5f82d33f85cb0e0ca03b4ce933c45","title":"Create OpenAI Test Fixtures","description":"Create mock responses for OpenAI API testing","design":"Create tests/fixtures/openai-responses.json with:\n- Successful chat completion response\n- Error responses (rate limit, auth, invalid)\n- Model list response for validation\n- Document fixture structure","acceptance_criteria":"- All common response scenarios covered\n- Valid JSON structure matching OpenAI API spec\n- Includes realistic token counts","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-23T02:02:14.716790635Z","updated_at":"2025-11-23T02:02:14.716790635Z","source_repo":".","labels":["openai","priority-2","testing"],"dependencies":[{"issue_id":"workspace-awe","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:46.000218552Z","created_by":"import"}]}
{"id":"workspace-cleanup","content_hash":"62430eddac23e734c4e1bbcd04b62bb36df39828f6812aff9149e7c2d1d8f793","title":"Remove legacy vanilla JS code","description":"Delete public/ directory with old vanilla JavaScript frontend, remove unused dependencies, and perform final linting pass.","acceptance_criteria":"- [ ] public/ directory deleted\n- [ ] Old static file references removed from code\n- [ ] Unused dependencies removed from package.json\n- [ ] Final linting pass (npm run lint:fix)\n- [ ] Final test run (npm run test:all)\n- [ ] Git status clean (all changes committed)\n- [ ] Ready for code review","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-23T01:41:44.782743386Z","updated_at":"2025-11-23T01:41:44.782743386Z","source_repo":".","dependencies":[{"issue_id":"workspace-cleanup","depends_on_id":"workspace-e2e","type":"blocks","created_at":"2025-11-23T04:14:46.000655385Z","created_by":"import"}]}
{"id":"workspace-config","content_hash":"5629275ef4f73b099c88b8f60ed3e5f8fbca7eaa68edb09f65af09f4e101c36d","title":"Configure build tooling for React and TypeScript","description":"Set up Vite configuration, TypeScript configs for frontend/backend separation, ESLint React rules, and npm scripts for development and production builds.","acceptance_criteria":"- [ ] vite.config.ts created with React plugin\n- [ ] src/web/frontend/tsconfig.json created with DOM types and JSX support\n- [ ] Root tsconfig.json updated to exclude frontend\n- [ ] eslint.config.mjs includes .tsx files and React rules\n- [ ] npm scripts added: dev:server, dev:client, dev (concurrent), build:client, build\n- [ ] Vite dev server starts successfully\n- [ ] TypeScript compilation works for both backend and frontend","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-23T01:40:50.435559472Z","updated_at":"2025-11-23T03:16:02.384456921Z","closed_at":"2025-11-23T03:16:02.384456921Z","source_repo":".","dependencies":[{"issue_id":"workspace-config","depends_on_id":"workspace-deps","type":"blocks","created_at":"2025-11-23T04:14:46.001091885Z","created_by":"import"}]}
{"id":"workspace-d3r","content_hash":"e359cbe0c812899f157f7a94253d7898413641eb7d205cfddeccefef53e1e7c2","title":"Implement OpenAI Client","description":"Complete OpenAI API wrapper with full functionality","design":"Implement in src/api/ai/openai.ts:\n- Initialize OpenAI SDK client in constructor\n- Implement generate() using Chat Completions API\n- Implement validateConnection() using Models API\n- Add error handling with custom error types\n- Add token usage tracking\n- Handle rate limits and retries\n- Add request timeout configuration","acceptance_criteria":"- generate() returns AIGenerationResponse with text and metadata\n- validateConnection() returns true for valid keys, false for invalid\n- All errors properly typed and thrown\n- Token usage included in response\n- Handles network failures gracefully","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-23T02:02:09.138487383Z","updated_at":"2025-11-23T02:02:09.138487383Z","source_repo":".","labels":["openai","priority-2"],"dependencies":[{"issue_id":"workspace-d3r","depends_on_id":"workspace-7iv","type":"blocks","created_at":"2025-11-23T04:14:46.001536469Z","created_by":"import"},{"issue_id":"workspace-d3r","depends_on_id":"workspace-eji","type":"blocks","created_at":"2025-11-23T04:14:46.001972052Z","created_by":"import"},{"issue_id":"workspace-d3r","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:46.00237926Z","created_by":"import"}]}
{"id":"workspace-deps","content_hash":"2b62f7d24f7f21f91b9b24246a595b6f799b2259f996c528aa4eb3c1cd18a7ce","title":"Setup project dependencies for web server and React","description":"Install all required npm packages for Express.js backend, React 18 frontend, Vite build tooling, testing libraries, and ESLint React plugins.","acceptance_criteria":"- [ ] Express.js + cors + compression installed\n- [ ] React 18 + react-dom + @types/react + @types/react-dom installed\n- [ ] Vite installed as dev dependency\n- [ ] @testing-library/react + @testing-library/jest-dom installed\n- [ ] eslint-plugin-react + eslint-plugin-react-hooks installed\n- [ ] All dependencies in package.json\n- [ ] npm install succeeds without errors","status":"closed","priority":1,"issue_type":"task","assignee":"claude","created_at":"2025-11-23T01:40:45.017015052Z","updated_at":"2025-11-23T02:21:39.658517799Z","closed_at":"2025-11-23T02:21:39.658517799Z","source_repo":"."}
{"id":"workspace-dmc","content_hash":"271e184b6545b46b1e04758a5fe7c9ce37635807d412bf2b1e04e6232117f4bf","title":"AI Provider Infrastructure","description":"Implement complete AI API wrappers for OpenAI and Anthropic with comprehensive testing infrastructure and CLI connectivity tool. Includes 21 tasks across 5 priority levels.","design":"## Architecture\n- OpenAI and Anthropic SDK integrations\n- Custom error types for AI provider failures\n- Factory pattern for provider selection\n- Comprehensive test coverage (80%+)\n- CLI tool with interactive mode for testing\n- Complete documentation\n\n## Deliverables\n- Working OpenAI and Anthropic clients\n- npm run test:ai command with interactive mode\n- Integration and E2E tests\n- Developer documentation","acceptance_criteria":"- All AI provider clients fully implemented\n- 80%+ test coverage achieved\n- CLI connectivity tool working with all features\n- Documentation complete and accurate\n- All 21 subtasks closed","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-23T01:57:03.20252638Z","updated_at":"2025-11-23T01:57:03.20252638Z","source_repo":"."}
{"id":"workspace-docs","content_hash":"9f0b243966bc0f8d4819ecace495a4ee1b1c9ebeaa6cd8a7eb54b1af64e53a2e","title":"Update documentation for web server","description":"Update README.md with web server commands, architecture diagrams, API documentation, and development workflow. Add JSDoc comments to public APIs.","acceptance_criteria":"- [ ] README.md updated with web server section\n- [ ] Commands documented (dev:web, build:web, etc.)\n- [ ] Architecture diagram for web layer\n- [ ] API endpoint documentation with request/response examples\n- [ ] Development workflow (concurrent servers)\n- [ ] JSDoc comments on public APIs\n- [ ] CLAUDE.md updated if needed\n- [ ] .env.example updated with WEB_SERVER_* variables","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-23T01:41:39.376710675Z","updated_at":"2025-11-23T01:41:39.376710675Z","source_repo":".","dependencies":[{"issue_id":"workspace-docs","depends_on_id":"workspace-e2e","type":"blocks","created_at":"2025-11-23T04:14:46.002826927Z","created_by":"import"}]}
{"id":"workspace-e2e","content_hash":"8649d9f53a0f07b6d325f068f97aac4242b27fb25f8463b422c219a72debd04c","title":"End-to-end testing and validation","description":"Write comprehensive E2E tests for full user workflows, validate 80%+ test coverage, and verify production build works correctly.","design":"**E2E Test Scenarios:**\n1. View latest content on Vestaboard preview\n2. Submit quality vote (good/bad)\n3. Browse content history\n4. View debug logs with auto-refresh\n5. Error handling (network failures, API errors)\n\n**Validation:**\n- Run full test suite (unit + integration + e2e + web)\n- Verify 80%+ coverage threshold met\n- Production build test (npm run build \u0026\u0026 npm start)\n- Manual browser testing checklist","acceptance_criteria":"- [ ] E2E tests for all user workflows in tests/e2e/\n- [ ] Full test suite passes (npm run test:all)\n- [ ] 80%+ coverage achieved for all code\n- [ ] Production build succeeds (npm run build)\n- [ ] Production server serves static React build correctly\n- [ ] Manual browser testing completed (Chrome, Firefox, Safari)\n- [ ] No console errors or warnings\n- [ ] All acceptance criteria from parent task met","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-23T01:41:33.871556297Z","updated_at":"2025-11-23T01:41:33.871556297Z","source_repo":".","dependencies":[{"issue_id":"workspace-e2e","depends_on_id":"workspace-integration","type":"blocks","created_at":"2025-11-23T04:14:46.003262969Z","created_by":"import"},{"issue_id":"workspace-e2e","depends_on_id":"workspace-main-integration","type":"blocks","created_at":"2025-11-23T04:14:46.00369176Z","created_by":"import"}]}
{"id":"workspace-eji","content_hash":"3b5be0b0862de55a65596bf90c602dd4b17d5497123db7421a3ba28a63aca16b","title":"Install AI Provider SDKs","description":"Add OpenAI and Anthropic official SDKs to package.json","design":"Install both packages:\n- openai (latest stable)\n- @anthropic-ai/sdk (latest stable)\n\nUpdate package.json and package-lock.json\nVerify installations build successfully","acceptance_criteria":"- Both packages appear in package.json dependencies\n- npm install completes without errors\n- TypeScript can import types from both packages","status":"open","priority":1,"issue_type":"chore","created_at":"2025-11-23T02:01:43.983431468Z","updated_at":"2025-11-23T02:01:43.983431468Z","source_repo":".","labels":["foundation","priority-1"],"dependencies":[{"issue_id":"workspace-eji","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:46.00414201Z","created_by":"import"}]}
{"id":"workspace-express","content_hash":"70f788125c07f93e7f05f5b81d335d658493887d8b000e036d3077684d0d1c3a","title":"Implement Express server with TDD","description":"Implement WebServer class in src/web/server.ts using Test-Driven Development: server startup, static file serving, graceful shutdown, and CORS middleware.","design":"**TDD Approach:**\n1. RED: Write failing tests for server lifecycle\n2. GREEN: Implement WebServer class to pass tests\n3. BLUE: Refactor for SOLID principles\n\n**Implementation:**\n- Update src/config/env.ts with web server config\n- Implement WebServer.start() with Express initialization\n- Add static file serving from src/web/frontend/dist\n- Implement graceful shutdown handlers (SIGTERM, SIGINT)\n- Add CORS middleware for development\n- Unit tests for all lifecycle methods","acceptance_criteria":"- [ ] WebServer.start() initializes Express and listens on configured port\n- [ ] Static files served from src/web/frontend/dist in production\n- [ ] Graceful shutdown on SIGTERM/SIGINT signals\n- [ ] CORS middleware enabled for development\n- [ ] Unit tests for server lifecycle with 80%+ coverage\n- [ ] TypeScript compiles with no errors\n- [ ] Linting passes","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-23T01:40:55.848754126Z","updated_at":"2025-11-23T03:16:07.649092048Z","closed_at":"2025-11-23T03:16:07.649092048Z","source_repo":".","dependencies":[{"issue_id":"workspace-express","depends_on_id":"workspace-deps","type":"blocks","created_at":"2025-11-23T04:14:46.00459326Z","created_by":"import"}]}
{"id":"workspace-hqf","content_hash":"6b2f92815bb96d0c00f35f90a3ccaa2c07edd2774c99dbbdf5ec931abf3dd96b","title":"Write test-ai Command Tests","description":"Unit tests for test-ai CLI command","design":"Create tests/unit/cli/commands/test-ai.test.ts:\n- Mock AI provider clients\n- Test successful connection validation\n- Test failed connection handling\n- Test provider selection logic\n- Test output formatting\n- Test interactive mode\n- Achieve 80%+ coverage","acceptance_criteria":"- All command paths tested\n- Mocks prevent real API calls\n- Error handling verified\n- Coverage meets 80% threshold","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-23T02:03:16.085627844Z","updated_at":"2025-11-23T02:03:16.085627844Z","source_repo":".","labels":["cli","priority-3","testing"],"dependencies":[{"issue_id":"workspace-hqf","depends_on_id":"workspace-14p","type":"blocks","created_at":"2025-11-23T04:14:46.005137927Z","created_by":"import"},{"issue_id":"workspace-hqf","depends_on_id":"workspace-7aj","type":"blocks","created_at":"2025-11-23T04:14:46.005868219Z","created_by":"import"},{"issue_id":"workspace-hqf","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:46.00637376Z","created_by":"import"}]}
{"id":"workspace-iat","content_hash":"317d00ffde0ac1221c8ffd79f667fedb6a75392433e98e84a88e6c2ae5abfdbf","title":"Install CLI Parsing Library","description":"Add commander.js for CLI argument parsing","design":"Install packages:\n- commander\n- @types/commander\n\nUpdate package.json","acceptance_criteria":"- Commander appears in package.json dependencies\n- TypeScript recognizes commander types","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-23T02:02:53.682867917Z","updated_at":"2025-11-23T02:02:53.682867917Z","source_repo":".","labels":["cli","priority-3"],"dependencies":[{"issue_id":"workspace-iat","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:46.006887052Z","created_by":"import"}]}
{"id":"workspace-integration","content_hash":"d33ad8125b6754351a24d02b8efa8f1f35a76a115d667180b4e3b1d59fd7b2f7","title":"Wire up API integration in React","description":"Create custom React hooks for API calls, implement API client service, add error handling and loading states, and integrate all components in App.tsx.","design":"**Custom Hooks:**\n- useLatestContent() - Fetches latest Vestaboard content\n- useContentHistory() - Fetches historical content\n- useLogs() - Fetches debug logs with auto-refresh\n- useVote() - Handles quality voting submission\n\n**API Client:**\n- src/web/frontend/src/services/api.ts\n- Centralized fetch() wrapper\n- Error handling and retry logic\n- TypeScript interfaces for API responses","acceptance_criteria":"- [ ] Custom hooks created for all API endpoints\n- [ ] API client service with error handling\n- [ ] Loading states for all async operations\n- [ ] Error states with user-friendly messages\n- [ ] All components wired together in App.tsx\n- [ ] Hook tests with 80%+ coverage\n- [ ] Full UI functional in development mode\n- [ ] TypeScript compiles, linting passes","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-23T01:41:22.96992225Z","updated_at":"2025-11-23T01:41:22.96992225Z","source_repo":".","dependencies":[{"issue_id":"workspace-integration","depends_on_id":"workspace-api","type":"blocks","created_at":"2025-11-23T04:14:46.007359302Z","created_by":"import"},{"issue_id":"workspace-integration","depends_on_id":"workspace-react-features","type":"blocks","created_at":"2025-11-23T04:14:46.00782426Z","created_by":"import"}]}
{"id":"workspace-iyf","content_hash":"b5a91618cf3976d7b11c36f2905ba20b372fe99839f8a06b9a28a8847bfd4552","title":"Update CLAUDE.md with AI Infrastructure","description":"Update project guidance for AI implementation","design":"Update CLAUDE.md:\n- Document AI provider architecture\n- Add testing patterns for AI code\n- Document mock usage for future development\n- Update key files reference section","acceptance_criteria":"- CLAUDE.md reflects current AI architecture\n- Future developers have clear guidance","status":"open","priority":4,"issue_type":"chore","created_at":"2025-11-23T02:03:59.721945253Z","updated_at":"2025-11-23T02:03:59.721945253Z","source_repo":".","labels":["documentation"],"dependencies":[{"issue_id":"workspace-iyf","depends_on_id":"workspace-6me","type":"blocks","created_at":"2025-11-23T04:14:46.008296302Z","created_by":"import"},{"issue_id":"workspace-iyf","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:46.008805469Z","created_by":"import"}]}
{"id":"workspace-kd5","content_hash":"918488c2c7c619b8f728ad7de5530c6f159b18b5314bb7364cf223cbb352552d","title":"Add npm Script for test:ai","description":"Add package.json script for testing AI connectivity","design":"Updates:\n- Add \"test:ai\": \"node dist/index.js test-ai\" to scripts\n- Update README.md with test:ai documentation\n- Add examples for testing each provider\n- Document interactive mode usage","acceptance_criteria":"- npm run test:ai executes successfully\n- README documents usage with examples\n- Works for both OpenAI and Anthropic\n- Interactive mode documented","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-23T02:03:10.388619383Z","updated_at":"2025-11-23T02:03:10.388619383Z","source_repo":".","labels":["cli","priority-3"],"dependencies":[{"issue_id":"workspace-kd5","depends_on_id":"workspace-suj","type":"blocks","created_at":"2025-11-23T04:14:46.009410219Z","created_by":"import"},{"issue_id":"workspace-kd5","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:46.01004526Z","created_by":"import"}]}
{"id":"workspace-main-integration","content_hash":"7d7299a893d903c2fd7e564b665efdf446e95bf84e991f6a762550c160a9ca4b","title":"Auto-start web server with main app","description":"Integrate WebServer initialization into main Clack Track application entry point with environment-based enabling and graceful shutdown.","design":"**Integration points:**\n- Update src/index.ts to initialize WebServer\n- Add WEB_SERVER_ENABLED env var (default: true)\n- Wire graceful shutdown into main app lifecycle\n- Ensure server starts after other services\n\n**Testing:**\n- Verify `npm run dev` starts both Vestaboard and web server\n- Verify `npm start` starts production mode\n- Verify graceful shutdown works","acceptance_criteria":"- [ ] WebServer initialized in src/index.ts\n- [ ] WEB_SERVER_ENABLED environment variable respected\n- [ ] Server starts automatically with main app\n- [ ] Graceful shutdown integrated with app lifecycle\n- [ ] npm run dev starts concurrent servers\n- [ ] npm start runs production build\n- [ ] Integration test for startup/shutdown\n- [ ] TypeScript compiles, linting passes","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-23T01:41:28.418447169Z","updated_at":"2025-11-23T01:41:28.418447169Z","source_repo":".","dependencies":[{"issue_id":"workspace-main-integration","depends_on_id":"workspace-express","type":"blocks","created_at":"2025-11-23T04:14:46.010557844Z","created_by":"import"}]}
{"id":"workspace-mzb","content_hash":"e4428c990c44ff1ec5cb11d0631771af1f569f236ba15f7bd71064df363cb62a","title":"Update Environment Documentation","description":"Comprehensive documentation for AI configuration","design":"Updates:\n- Update .env.example with detailed AI provider comments\n- Document AI_PROVIDER selection in README.md\n- Add troubleshooting section for API key issues\n- Document model selection options\n- Add examples for both providers","acceptance_criteria":"- .env.example fully documented\n- README has clear setup instructions\n- Common issues documented","status":"open","priority":4,"issue_type":"chore","created_at":"2025-11-23T02:03:49.226720262Z","updated_at":"2025-11-23T02:03:49.226720262Z","source_repo":".","labels":["documentation"],"dependencies":[{"issue_id":"workspace-mzb","depends_on_id":"workspace-ov6","type":"blocks","created_at":"2025-11-23T04:14:46.011069927Z","created_by":"import"},{"issue_id":"workspace-mzb","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:46.011531885Z","created_by":"import"}]}
{"id":"workspace-ov6","content_hash":"c621a3053a142518b78987fd760bd322fa1e0a972b01503b4d9951ae76d152b9","title":"Fix Environment Configuration Mismatch","description":"Align env.ts with documented variable names (VESTABOARD_LOCAL_API_*)","design":"Update src/config/env.ts to use:\n- VESTABOARD_LOCAL_API_KEY (instead of VESTABOARD_API_KEY)\n- VESTABOARD_LOCAL_API_URL (instead of VESTABOARD_API_URL)\n\nAdd validation for AI provider keys\nUpdate .env.example with AI_PROVIDER selection comments","acceptance_criteria":"- env.ts matches .env.example variable names\n- Config throws clear errors for missing required AI keys\n- All existing references updated","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-23T02:01:58.088895294Z","updated_at":"2025-11-23T02:01:58.088895294Z","source_repo":".","labels":["foundation","priority-1"],"dependencies":[{"issue_id":"workspace-ov6","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:46.012016177Z","created_by":"import"}]}
{"id":"workspace-px3","content_hash":"328dac15597c5e2bed4d85dd19dbd3b2440a23e2811eaf2892f3261bd4335f16","title":"Write Anthropic Unit Tests","description":"Complete unit test coverage for Anthropic client","design":"Create tests/unit/api/ai/anthropic.test.ts:\n- Test successful generation flow\n- Test connection validation (success and failure)\n- Test error handling for all error types\n- Test token usage tracking\n- Mock Anthropic SDK responses\n- Achieve 80%+ coverage","acceptance_criteria":"- All methods tested with success and failure paths\n- Coverage meets 80% threshold\n- Tests use fixtures, no real API calls\n- All edge cases covered","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-23T02:02:36.972095257Z","updated_at":"2025-11-23T02:02:36.972095257Z","source_repo":".","labels":["anthropic","priority-2","testing"],"dependencies":[{"issue_id":"workspace-px3","depends_on_id":"workspace-6an","type":"blocks","created_at":"2025-11-23T04:14:46.012500719Z","created_by":"import"},{"issue_id":"workspace-px3","depends_on_id":"workspace-8sa","type":"blocks","created_at":"2025-11-23T04:14:46.012958552Z","created_by":"import"},{"issue_id":"workspace-px3","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:46.013412885Z","created_by":"import"}]}
{"id":"workspace-react-core","content_hash":"5f8366196afede64fc02303f7a3ff3248343844268f26d098336fa848beee598","title":"Build core React components with tests","description":"Create VestaboardPreview, ContentDisplay, and VotingButtons React components with TypeScript and comprehensive tests using @testing-library/react.","design":"**Components:**\n1. VestaboardPreview.tsx - 6 rows × 22 chars grid display\n2. ContentDisplay.tsx - Shows content with timestamp and metadata\n3. VotingButtons.tsx - Good/Bad quality voting buttons\n\n**Testing:**\n- Component render tests\n- User interaction tests (button clicks)\n- Props validation tests\n- Accessibility tests","acceptance_criteria":"- [ ] VestaboardPreview component renders 6×22 character grid\n- [ ] ContentDisplay component shows content metadata\n- [ ] VotingButtons component handles click events\n- [ ] Component tests with @testing-library/react\n- [ ] 80%+ test coverage for components\n- [ ] TypeScript compiles with no errors\n- [ ] Linting passes (React hooks rules)","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-23T01:41:12.128566593Z","updated_at":"2025-11-23T01:41:12.128566593Z","source_repo":".","dependencies":[{"issue_id":"workspace-react-core","depends_on_id":"workspace-react-scaffold","type":"blocks","created_at":"2025-11-23T04:14:46.013899177Z","created_by":"import"}]}
{"id":"workspace-react-features","content_hash":"af88b1444fd533e627410a7c08d78979cb34a72c388b981fdcd5854af11be96d","title":"Build feature React components","description":"Create ContentHistory, DebugLogs, Header, and Layout React components to complete the debugging UI feature set.","design":"**Components:**\n1. ContentHistory.tsx - List of historical content with pagination\n2. DebugLogs.tsx - Log viewer with auto-refresh capability\n3. Header.tsx - App branding and navigation\n4. Layout.tsx - Page structure and responsive design\n\n**Features:**\n- Auto-refresh for logs (configurable interval)\n- Pagination for history\n- Responsive CSS grid layout","acceptance_criteria":"- [ ] ContentHistory component displays historical entries\n- [ ] DebugLogs component with auto-refresh timer\n- [ ] Header component with Clack Track branding\n- [ ] Layout component with responsive grid\n- [ ] Component tests with 80%+ coverage\n- [ ] TypeScript compiles with no errors\n- [ ] Linting passes","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-23T01:41:17.524553887Z","updated_at":"2025-11-23T01:41:17.524553887Z","source_repo":".","dependencies":[{"issue_id":"workspace-react-features","depends_on_id":"workspace-react-core","type":"blocks","created_at":"2025-11-23T04:14:46.014381219Z","created_by":"import"}]}
{"id":"workspace-react-scaffold","content_hash":"bf8565a89a5401d927b4ea469918166a532ecaf642e60609e8774d5803746059","title":"Create React app structure and scaffold","description":"Set up React application directory structure, Vite entry point, root App component, and verify Vite dev server works.","acceptance_criteria":"- [ ] src/web/frontend/ directory created\n- [ ] index.html Vite template created\n- [ ] src/main.tsx React entry point created\n- [ ] src/App.tsx root component with placeholder content\n- [ ] src/vite-env.d.ts type definitions created\n- [ ] Basic CSS structure added\n- [ ] Vite dev server runs successfully (npm run dev:client)\n- [ ] \"Clack Track\" branding displays in browser","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-23T01:41:06.68888459Z","updated_at":"2025-11-23T01:41:06.68888459Z","source_repo":".","dependencies":[{"issue_id":"workspace-react-scaffold","depends_on_id":"workspace-config","type":"blocks","created_at":"2025-11-23T04:14:46.01486776Z","created_by":"import"}]}
{"id":"workspace-suj","content_hash":"67d8473e114ed015a93a712e076fc4f808b8d036fd77f295893ba76d28661e49","title":"Update CLI Router for test-ai","description":"Integrate test-ai command into CLI router","design":"Update src/cli/commands/index.ts and router:\n- Import testAICommand\n- Export testAICommand\n- Add case for 'test-ai' in CLI router\n- Update help text with test-ai usage","acceptance_criteria":"- Command accessible via CLI router\n- Help text documents usage\n- Command can be invoked from npm script","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-23T02:03:04.800787881Z","updated_at":"2025-11-23T02:03:04.800787881Z","source_repo":".","labels":["cli","priority-3"],"dependencies":[{"issue_id":"workspace-suj","depends_on_id":"workspace-7aj","type":"blocks","created_at":"2025-11-23T04:14:46.01535626Z","created_by":"import"},{"issue_id":"workspace-suj","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:46.015850427Z","created_by":"import"}]}
{"id":"workspace-xle","content_hash":"06e624d03595f6d30234d6b853a1c48f4e113a76c27a4af6063cca0d846fff1e","title":"Write AI Provider Integration Tests","description":"Integration tests for complete AI generation workflow","design":"Create tests/integration/ai-generation.test.ts:\n- Test OpenAI end-to-end generation flow\n- Test Anthropic end-to-end generation flow\n- Test provider switching via factory\n- Test error recovery and retries\n- Mock external HTTP calls\n- Verify response formats","acceptance_criteria":"- Complete request/response cycle tested\n- Both providers validated\n- Integration with config system verified\n- No real API calls made","status":"open","priority":4,"issue_type":"task","created_at":"2025-11-23T02:03:21.692771972Z","updated_at":"2025-11-23T02:03:21.692771972Z","source_repo":".","labels":["integration","priority-4","testing"],"dependencies":[{"issue_id":"workspace-xle","depends_on_id":"workspace-14p","type":"blocks","created_at":"2025-11-23T04:14:46.01633226Z","created_by":"import"},{"issue_id":"workspace-xle","depends_on_id":"workspace-8sa","type":"blocks","created_at":"2025-11-23T04:14:46.016873385Z","created_by":"import"},{"issue_id":"workspace-xle","depends_on_id":"workspace-d3r","type":"blocks","created_at":"2025-11-23T04:14:46.017428552Z","created_by":"import"},{"issue_id":"workspace-xle","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:46.017955927Z","created_by":"import"}]}
{"id":"workspace-ym1","content_hash":"cd3541cf4a998dec22c821900a64b5c5e2370aa4eed7249ccfbd4f971319244d","title":"Write OpenAI Unit Tests","description":"Complete unit test coverage for OpenAI client","design":"Create tests/unit/api/ai/openai.test.ts:\n- Test successful generation flow\n- Test connection validation (success and failure)\n- Test error handling for all error types\n- Test token usage tracking\n- Mock OpenAI SDK responses\n- Achieve 80%+ coverage","acceptance_criteria":"- All methods tested with success and failure paths\n- Coverage meets 80% threshold\n- Tests use fixtures, no real API calls\n- All edge cases covered","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-23T02:02:20.268575096Z","updated_at":"2025-11-23T02:02:20.268575096Z","source_repo":".","labels":["openai","priority-2","testing"],"dependencies":[{"issue_id":"workspace-ym1","depends_on_id":"workspace-awe","type":"blocks","created_at":"2025-11-23T04:14:46.018466885Z","created_by":"import"},{"issue_id":"workspace-ym1","depends_on_id":"workspace-d3r","type":"blocks","created_at":"2025-11-23T04:14:46.01895401Z","created_by":"import"},{"issue_id":"workspace-ym1","depends_on_id":"workspace-dmc","type":"parent-child","created_at":"2025-11-23T04:14:46.019428302Z","created_by":"import"}]}
